---
// src/pages/the-shop/index.astro
import Layout from "@/layouts/Layout.astro";
import { siteConfig } from "@/lib/site-config";
import Button from "@/components/Button.astro";
import { Icon } from "astro-icon/components";
import {
  EL_CAMINO_LOGO_DATA_URI,
  EL_CAMINO_LOADER_DATA_URI,
} from "@/lib/constants/assets";
---

<Layout title="The Shop | El Camino">
  <section class="p-1 pb-0 flex flex-col gap-1">
    <header
      class="flex flex-col lg:flex-row-reverse items-start lg:items-center gap-4 lg:gap-8"
    >
      <div class="basis-1/2 p-4 md:p-12 lg:p-12 my-8 w-full">
        <div class="max-w-lg mx-auto">
          <h1
            class="flex flex-col-reverse font-display font-black text-6xl lg:text-7xl xl:text-8xl 2xl:text-9xl leading-none text-(--content-heading) text-balance mb-2"
          >
            <span>The Shop</span>
            <small
              class="font-sans font-semibold text-sm lg:text-md max-w-[18ch] lg:max-w-full tracking-wide uppercase mb-2 text-(--content-meta)"
            >
              {siteConfig.tagline}
            </small>
          </h1>
          <p class="text-pretty mb-4">
            More than a skate shop. We're here to build and uplift our
            community, friends, and fellow skaters in the Chippewa Valley.
          </p>
          <div class="flex flex-row gap-2 mt-8">
            <Button variant="primary" href="#our-story">Read Our Story</Button>
            <Button variant="outline" href="/shop/all">Shop Now</Button>
          </div>
        </div>
      </div>

      <div
        class="aspect-square border-4 border-(--surface-secondary) overflow-hidden bg-(--surface-secondary) relative basis-1/2 self-center w-full"
      >
        <div class="relative w-full h-full">
          <div
            class="loading-skeleton absolute inset-0 animate-pulse bg-linear-to-r from-gray-200 via-gray-100 to-gray-200"
            id="article-hero-placeholder"
            style="animation: shimmer 1.5s ease-in-out infinite;"
          >
            <div
              class="absolute inset-0 flex items-center justify-center opacity-70"
              style={`background-image: url('${EL_CAMINO_LOADER_DATA_URI}'); background-size: auto; background-position: center; background-repeat: no-repeat;`}
            >
            </div>
          </div>

          <picture>
            <source
              srcset="/.netlify/images?url=/the-shop-01.png&fm=avif&w=1200&q=75"
              type="image/avif"
            />
            <source
              srcset="/.netlify/images?url=/the-shop-01.png&fm=webp&w=1200&q=75"
              type="image/webp"
            />
            <img
              src="/the-shop-01.png"
              alt="El Camino Skate Shop storefront"
              class="w-full h-full object-cover opacity-0 transition-opacity duration-300"
              loading="eager"
              fetchpriority="high"
              width="1200"
              height="1200"
              onload="this.style.opacity='0.9';"
              onerror={`this.src='${EL_CAMINO_LOGO_DATA_URI}'; this.classList.add('opacity-100'); document.getElementById('article-hero-placeholder')?.remove()`}
            />
          </picture>
        </div>
      </div>
    </header>

    <div
      class="bg-(--surface-secondary) flex flex-col lg:flex-row items-start lg:items-center relative"
    >
      <div id="our-story" class="absolute h-16 -top-16" aria-hidden="true">
      </div>

      <div class="relative lg:basis-1/2 px-4 py-8 lg:p-8 xl:p-12 my-8">
        <div class="w-full md:max-w-lg mx-auto">
          <h2
            class="flex flex-col-reverse font-display font-black leading-none text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl text-(--content-heading) text-balance mb-2"
          >
            Our Story
          </h2>
          <div class="space-y-4 text-pretty">
            <blockquote class="text-pretty text-(--content-meta)">
              "It was all a dream, I used to read Big Brother magazine."
            </blockquote>
            <p>
              It started with a 1979 Chevy El Camino and a simple idea: sell
              skate products out the back, pop-up style. Bring gear that wasn't
              available around Eau Claire to the people who needed it. After
              talking to folks in the industry, they all said the same thing:
              "Cool idea, but... you NEED a storefront."
            </p>
            <p>So that's what we did.</p>
            <p>
              Now the mission is clearer than ever: keep growing the skateboard
              scene in and around the Chippewa Valley. Whether you've never
              stepped on a board, a seasoned vet, or you're dusting yours off
              after years, this place is for you.
            </p>
            <p class="text-(--content-meta) italic mb-8">
              Skateboarding is sticking around... for better or worse.
            </p>
            <Button variant="outline" href="#shop-team">Meet the Team</Button>
            <Button variant="ghost" href="#the-space">Check out the Shop</Button
            >
          </div>
        </div>
      </div>

      <div
        class="aspect-square border-4 border-(--surface-secondary) overflow-hidden bg-(--surface-secondary) relative basis-1/2 self-center w-full"
      >
        <div class="relative w-full h-full">
          <div
            class="loading-skeleton absolute inset-0 animate-pulse bg-linear-to-r from-gray-200 via-gray-100 to-gray-200"
            id="story-placeholder"
            style="animation: shimmer 1.5s ease-in-out infinite;"
          >
            <div
              class="absolute inset-0 flex items-center justify-center opacity-70"
              style={`background-image: url('${EL_CAMINO_LOADER_DATA_URI}'); background-size: auto; background-position: center; background-repeat: no-repeat;`}
            >
            </div>
          </div>

          <picture>
            <source
              srcset="/.netlify/images?url=/the-shop-02.png&fm=avif&w=1200&q=75"
              type="image/avif"
            />
            <source
              srcset="/.netlify/images?url=/the-shop-02.png&fm=webp&w=1200&q=75"
              type="image/webp"
            />
            <img
              src="/the-shop-02.png"
              alt="El Camino shop interior"
              class="w-full h-full object-cover opacity-0 transition-opacity duration-300"
              loading="lazy"
              width="1200"
              height="1200"
              onload="this.style.opacity='0.9';"
              onerror={`this.src='${EL_CAMINO_LOGO_DATA_URI}'; this.classList.add('opacity-100', 'error'); document.getElementById('PLACEHOLDER_ID')?.remove()`}
            />
          </picture>
        </div>
      </div>
    </div>

    <div
      class="bg-(--surface-primary) flex flex-col lg:flex-row items-start lg:items-center relative"
    >
      <div id="shop-team" class="absolute h-16 -top-16" aria-hidden="true">
      </div>
      <div class="relative px-4 py-8 lg:p-8 xl:p-12 my-8">
        <h2
          class="flex flex-col-reverse font-display font-black leading-none text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl text-(--content-heading) text-balance mb-2"
        >
          Shop Team
          <small
            class="font-sans font-semibold text-sm lg:text-md tracking-wide uppercase text-(--content-meta)"
          >
            The People Behind El Camino
          </small>
        </h2>
        <p class="text-(--content-meta) mb-8 text-balance max-w-[44ch]">
          Check out the team members and friends who make El Camino what it is.
        </p>
        {/* Shop Team Cards will go here - component TBD */}
        <div class="team-card-container"></div>
      </div>
    </div>

    <div
      class="bg-(--surface-primary) flex flex-col lg:flex-row-reverse items-start lg:items-center relative"
    >
      <div id="the-space" class="absolute h-16 -top-16" aria-hidden="true">
      </div>
      <div class="relative lg:basis-1/2 px-4 py-8 lg:p-8 xl:p-12 my-8">
        <div class="w-full md:max-w-lg mx-auto">
          <h2
            class="flex flex-col-reverse font-display font-black leading-none text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl text-(--content-heading) text-balance mb-2"
          >
            The Space
            <small
              class="font-sans font-semibold text-sm lg:text-md tracking-wide uppercase text-(--content-meta)"
            >
              From Dream to Downtown
            </small>
          </h2>
          <div class="space-y-4 text-pretty">
            <p>
              We're right in the heart of downtown Eau Claire at 310 Water
              Street. The spot used to be a restaurant, so we carved out the old
              commercial kitchen to make room for what you see now: a full skate
              shop plus a tattoo space (for those curious weirdos who are 18+).
            </p>
            <p>
              Since moving downtown, the foot traffic has changed everything.
              Kids ride their bikes down here all the time. People just stop by.
              That's exactly what we wantedâ€”a place that's accessible and
              welcoming.
            </p>
            <p>
              We've got decks, wheels, hardware, all the essentials. Plus a
              hangout area with a sweet video game setup. Come with questions,
              come for the vibes, or come just because.
            </p>
          </div>
        </div>
      </div>

      <div
        class="aspect-square border-4 border-(--surface-secondary) overflow-hidden bg-(--surface-secondary) relative basis-1/2 self-center w-full"
      >
        <div class="relative w-full h-full">
          <div
            class="loading-skeleton absolute inset-0 animate-pulse bg-linear-to-r from-gray-200 via-gray-100 to-gray-200"
            id="space-placeholder"
            style="animation: shimmer 1.5s ease-in-out infinite;"
          >
            <div
              class="absolute inset-0 flex items-center justify-center opacity-70"
              style={`background-image: url('${EL_CAMINO_LOADER_DATA_URI}'); background-size: auto; background-position: center; background-repeat: no-repeat;`}
            >
            </div>
          </div>

          <picture>
            <source
              srcset="/.netlify/images?url=/the-shop-03.png&fm=avif&w=1200&q=75"
              type="image/avif"
            />
            <source
              srcset="/.netlify/images?url=/the-shop-03.png&fm=webp&w=1200&q=75"
              type="image/webp"
            />
            <img
              src="/the-shop-03.png"
              alt="Inside the shop"
              class="w-full h-full object-cover opacity-0 transition-opacity duration-300"
              loading="lazy"
              width="1200"
              height="1200"
              onload="this.style.opacity='0.9';"
              onerror={`this.src='${EL_CAMINO_LOGO_DATA_URI}'; this.classList.add('opacity-100', 'error'); document.getElementById('PLACEHOLDER_ID')?.remove()`}
            />
          </picture>
        </div>
      </div>
    </div>

    <div
      class="bg-(--surface-primary) flex flex-col lg:flex-row items-start lg:items-center relative"
    >
      <div id="community" class="absolute h-16 -top-16" aria-hidden="true">
      </div>
      <div class="relative px-4 py-8 lg:p-8 xl:p-12 my-8">
        <h2
          class="flex flex-col-reverse font-display font-black leading-none text-4xl md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl text-(--content-heading) text-balance mb-2"
        >
          Community
          <small
            class="font-sans font-semibold text-sm lg:text-md tracking-wide uppercase text-(--content-meta)"
          >
            Building Something Together
          </small>
        </h2>
        <p class="text-(--content-meta) mb-8 text-balance max-w-[44ch]">
          This shop exists because of the skate community here in Eau Claire.
          Check out what's been happening and what's coming up next.
        </p>
        <Button variant="primary" href="/news">See Latest News & Events</Button>
        {/* Community article cards will go here - component TBD */}
      </div>
    </div>

    <div
      class="bg-(--surface-secondary) flex flex-col lg:flex-row items-start lg:items-center relative"
    >
      <div id="contact" class="absolute h-16 -top-16" aria-hidden="true"></div>
      <div class="relative lg:basis-1/2 px-4 py-8 lg:p-8 xl:p-12 my-8">
        <div class="w-full md:max-w-lg mx-auto">
          <h2
            class="flex flex-col-reverse font-display font-black text-4xl leading-none md:text-5xl lg:text-6xl xl:text-7xl 2xl:text-8xl text-(--content-heading) text-balance mb-2"
          >
            Time & Space
            <small
              class="font-sans font-semibold text-sm lg:text-md tracking-wide uppercase text-(--content-meta)"
            >
              Come Visit Us
            </small>
          </h2>

          <div class="space-y-6 w-full">
            <div>
              <h3 class="font-semibold text-lg mb-2">Address</h3>
              <p class="text-pretty">
                {siteConfig.contact.address.street}<br />
                {siteConfig.contact.address.city}, {
                  siteConfig.contact.address.state
                }
                {siteConfig.contact.address.zip}
              </p>
            </div>

            <div>
              <h3 class="font-semibold text-lg mb-3">Store Hours</h3>
              <div class="space-y-1">
                {
                  siteConfig.hours.map((day) => (
                    <div class="flex justify-between">
                      <span class={!day.isOpen ? "text-(--content-meta)" : ""}>
                        {day.day}
                      </span>
                      <span class={!day.isOpen ? "text-(--content-meta)" : ""}>
                        {day.hours}
                      </span>
                    </div>
                  ))
                }
              </div>
            </div>

            <div>
              <h3 class="font-semibold text-lg mb-2">Get in Touch</h3>
              <a
                href={`tel:${siteConfig.contact.phone.number}`}
                class="relative font-semibold hover:text-ui-nav-hover before:absolute before:-bottom-0.5 before:left-0 before:w-full before:h-0.5 before:bg-(--ui-nav-hover) before:transform before:scale-x-0 before:origin-right before:transition-transform before:duration-300 before:ease-in-out hover:before:scale-x-100 hover:before:origin-left"
              >
                {siteConfig.contact.phone.display}
              </a><br />
              <a
                href={`mailto:${siteConfig.contact.email}`}
                class="relative font-semibold hover:text-ui-nav-hover before:absolute before:-bottom-0.5 before:left-0 before:w-full before:h-0.5 before:bg-(--ui-nav-hover) before:transform before:scale-x-0 before:origin-right before:transition-transform before:duration-300 before:ease-in-out hover:before:scale-x-100 hover:before:origin-left"
              >
                {siteConfig.contact.email}
              </a>

              <div class="flex gap-2 mt-2">
                {
                  siteConfig.social.map((social) => (
                    <a
                      href={social.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="text-(--content-body) hover:text-(--content-emphasis) transition-colors"
                      aria-label={`Visit us on ${social.platform}`}
                    >
                      <Icon
                        name={social.icon}
                        class="w-6 h-auto"
                        aria-hidden="true"
                      />
                    </a>
                  ))
                }
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        class="aspect-square border-4 border-(--surface-secondary) overflow-hidden bg-(--surface-secondary) relative basis-1/2 self-center w-full"
      >
        <div class="relative w-full h-full">
          <div
            class="loading-skeleton absolute inset-0 animate-pulse bg-linear-to-r from-gray-200 via-gray-100 to-gray-200"
            id="location-placeholder"
            style="animation: shimmer 1.5s ease-in-out infinite;"
          >
            <div
              class="absolute inset-0 flex items-center justify-center opacity-70"
              style={`background-image: url('${EL_CAMINO_LOADER_DATA_URI}'); background-size: auto; background-position: center; background-repeat: no-repeat;`}
            >
            </div>
          </div>

          <picture>
            <source
              srcset="/.netlify/images?url=/the-shop-04.png&fm=avif&w=1200&q=75"
              type="image/avif"
            />
            <source
              srcset="/.netlify/images?url=/the-shop-04.png&fm=webp&w=1200&q=75"
              type="image/webp"
            />
            <img
              src="/the-shop-04.png"
              alt="Water Street location"
              class="w-full h-full object-cover opacity-0 transition-opacity duration-300"
              loading="lazy"
              width="1200"
              height="1200"
              onload="this.style.opacity='0.9';"
              onerror={`this.src='${EL_CAMINO_LOGO_DATA_URI}'; this.classList.add('opacity-100', 'error'); document.getElementById('PLACEHOLDER_ID')?.remove()`}
            />
          </picture>
        </div>
      </div>
    </div>
  </section>
</Layout>
