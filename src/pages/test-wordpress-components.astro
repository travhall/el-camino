---
// Test page for WordPress High-ROI Business Components
import Layout from "@/layouts/Layout.astro";
import WPProductShowcase from "@/components/wordpress/blocks/WPProductShowcase.astro";
import WPEventBlock from "@/components/wordpress/blocks/WPEventBlock.astro";
import WPTeamMember from "@/components/wordpress/blocks/WPTeamMember.astro";

// Get some real product IDs for testing
import { fetchProducts } from "@/lib/square/client";
const allProducts = await fetchProducts();
const sampleProductIds = allProducts.slice(0, 3).map(p => p.id);

console.log("Sample product IDs for testing:", sampleProductIds);
---

<Layout title="WordPress Components Test | El Camino">
  <div class="max-w-4xl mx-auto p-6 space-y-8">
    <h1 class="font-display font-bold text-4xl text-(--content-heading) mb-8">
      WordPress High-ROI Business Components Test
    </h1>

    <!-- Product Showcase Component Test -->
    <section>
      <h2 class="font-display font-bold text-2xl text-(--content-heading) mb-4">
        Product Showcase Component
      </h2>
      
      <WPProductShowcase
        productSkus={sampleProductIds}
        layout="grid"
        columns={3}
        title="Featured Products"
        description="Check out these awesome products from our catalog"
        showPrice={true}
        showStock={true}
        showCartButton={true}
      />
    </section>

    <!-- Event Block Component Test -->
    <section>
      <h2 class="font-display font-bold text-2xl text-(--content-heading) mb-4">
        Event Block Component
      </h2>
      
      <WPEventBlock
        title="Saturday Skate Session"
        date="2025-08-15"
        time="2:00 PM - 6:00 PM"
        location="El Camino Skate Shop"
        description="Join us for our weekly skate session! All skill levels welcome. Come meet the team and try out some new gear."
        rsvpUrl="https://example.com/rsvp"
        featuredProducts={sampleProductIds.slice(0, 2)}
        imageUrl="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop"
        registrationRequired={false}
      />
    </section>

    <!-- Product Showcase Carousel Test -->
    <section>
      <h2 class="font-display font-bold text-2xl text-(--content-heading) mb-4">
        Product Showcase Carousel
      </h2>
      
      <WPProductShowcase
        productSkus={sampleProductIds}
        layout="carousel"
        columns={4}
        title="Staff Picks"
        description="Our team's favorite gear this month"
        showPrice={true}
        showStock={true}
        showCartButton={true}
      />
    </section>

    <!-- Team Member Component Test -->
    <section>
      <h2 class="font-display font-bold text-2xl text-(--content-heading) mb-4">
        Team Member Component
      </h2>
      
      <WPTeamMember
        name="Alex Rodriguez"
        role="Pro Team Rider"
        bio="Alex has been skating for over 15 years and specializes in street and transition riding. Known for his technical approach and smooth style, Alex represents the best of what El Camino stands for."
        imageUrl="https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?w=800&h=600&fit=crop"
        socialLinks={{
          instagram: "https://instagram.com/alexskates",
          youtube: "https://youtube.com/alexrodriguez"
        }}
        favoriteProducts={sampleProductIds.slice(0, 3)}
        setupDetails={{
          deck: "Real 8.25 Street Series",
          trucks: "Independent 149",
          wheels: "Spitfire Formula Four 54mm",
          bearings: "Bones Reds"
        }}
        achievements={[
          "2023 Street League Champion",
          "X-Games Bronze Medalist",
          "Thrasher SOTY Nominee"
        ]}
        yearsSkating={15}
        hometown="San Diego, CA"
      />
    </section>

    <!-- Component Status Summary -->
    <section class="bg-(--surface-secondary) p-6 rounded-sm">
      <h2 class="font-display font-bold text-2xl text-(--content-heading) mb-4">
        Implementation Status
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="bg-(--surface-primary) p-4 rounded-sm">
          <h3 class="font-semibold text-(--content-heading) mb-2">✅ Product Showcase</h3>
          <p class="text-(--content-body) text-sm">Complete with grid, carousel, and list layouts. Performance optimized with bulk product fetching.</p>
        </div>
        <div class="bg-(--surface-primary) p-4 rounded-sm">
          <h3 class="font-semibold text-(--content-heading) mb-2">✅ Event Block</h3>
          <p class="text-(--content-body) text-sm">Professional event announcements with calendar integration and product features.</p>
        </div>
        <div class="bg-(--surface-primary) p-4 rounded-sm">
          <h3 class="font-semibold text-(--content-heading) mb-2">✅ Team Member</h3>
          <p class="text-(--content-body) text-sm">Complete team profiles with social links, achievements, and gear recommendations.</p>
        </div>
      </div>

      <div class="mt-6 p-4 bg-(--ui-accent)/10 border-l-4 border-(--ui-accent) rounded-sm">
        <h4 class="font-semibold text-(--content-heading) mb-2">Ready for Production</h4>
        <p class="text-(--content-body)">All components are fully integrated with the WordPress Block Parser and ready for use in blog posts. See the complete documentation in <code>WORDPRESS_COMPONENTS_GUIDE.md</code>.</p>
      </div>
    </section>

    <!-- Navigation back -->
    <div class="mt-8 pt-8 border-t border-(--border-secondary)">
      <a href="/" class="text-(--ui-accent) hover:underline">
        ← Back to Home
      </a>
    </div>
  </div>
</Layout>
