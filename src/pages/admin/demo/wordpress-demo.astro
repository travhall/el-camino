---
// src/pages/admin/demo.astro - WordPress Typography & Components Demo
import Layout from "@/layouts/Layout.astro";
import WordPressBlockParser from "@/components/wordpress/WordPressBlockParser.astro";
import WPProductShowcase from "@/components/wordpress/blocks/WPProductShowcase.astro";
import WPEventBlock from "@/components/wordpress/blocks/WPEventBlock.astro";
import WPTeamMember from "@/components/wordpress/blocks/WPTeamMember.astro";
import WPQuote from "@/components/wordpress/blocks/WPQuote.astro";
import WPImage from "@/components/wordpress/blocks/WPImage.astro";
import WPGallery from "@/components/wordpress/blocks/WPGallery.astro";
import WPEmbed from "@/components/wordpress/blocks/WPEmbed.astro";

// Sample WordPress-like content for demonstration
// cSpell:disable
const sampleWordPressContent = `
<h1>WordPress Typography Demo</h1>
<p>This is a demonstration of WordPress content styling with our optimized system. This paragraph should demonstrate the base typography styles including proper line height, spacing, and color application.</p>

<h2>Secondary Heading</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.</p>

<h3>Tertiary Heading</h3>
<p>Here's a paragraph with <a href="#demo">a link example</a> and some <strong>bold text</strong> and <em>italic text</em> to show inline styling.</p>

<ul>
  <li>Unordered list item one</li>
  <li>Unordered list item two with <a href="#test">a link</a></li>
  <li>Unordered list item three</li>
</ul>

<ol>
  <li>Ordered list item one</li>
  <li>Ordered list item two</li>
  <li>Ordered list item three</li>
</ol>

<blockquote>
  <p>This is a blockquote example. It should have proper styling with border, padding, and italic text styling to distinguish it from regular content.</p>
  <cite>‚Äî Sample Citation</cite>
</blockquote>

<h4>Code Examples</h4>
<p>Here's some inline <code>code styling</code> and a code block:</p>

<pre><code>function demoFunction() {
  console.log("This is a code block example");
  return "properly formatted";
}</code></pre>

<hr>

<h5>Tables</h5>
<table>
  <thead>
    <tr>
      <th>Header 1</th>
      <th>Header 2</th>
      <th>Header 3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Data 1</td>
      <td>Data 2</td>
      <td>Data 3</td>
    </tr>
    <tr>
      <td>Data 4</td>
      <td>Data 5</td>
      <td>Data 6</td>
    </tr>
  </tbody>
</table>

<h6>Smallest Heading</h6>
<p>This demonstrates the smallest heading size in our typography scale.</p>
`;
// cSpell:enable

const pageTitle = "WordPress Demo | El Camino Admin";
---

<Layout title={pageTitle}>
  <main class="min-h-screen bg-(--surface-primary) text-(--content-body)">
    <!-- Page Header -->
    <header
      class="bg-(--surface-secondary) border-b border-(--border-primary) wordpress-content p-8"
    >
      <div class="max-w-4xl mx-auto">
        <h1>WordPress Demo</h1>
        <p class="text-lg text-(--content-meta) max-w-2xl">
          Demonstration of WordPress typography, block components, and styling
          optimizations. This page shows how our selective styling system
          protects business components while enhancing content presentation.
        </p>
      </div>
    </header>

    <div class="max-w-4xl mx-auto p-8 space-y-12">
      <!-- Section 1: Basic WordPress Typography -->
      <section class="wordpress-content">
        <h2>Basic WordPress Typography</h2>
        <div set:html={sampleWordPressContent} />
      </section>

      <!-- Section 2: WordPress Block Parser Demo -->
      <section class="wordpress-content">
        <h2>WordPress Block Parser</h2>
        <p class="text-(--content-meta) mb-6">
          This demonstrates how the WordPress Block Parser applies selective
          styling, protecting business components while enhancing content
          blocks.
        </p>

        <div class="bg-(--surface-secondary) p-6">
          <WordPressBlockParser
            content={sampleWordPressContent}
            enhanceBlocks={true}
          />
        </div>
      </section>

      <!-- Section 3: Business Components (PROTECTED) -->
      <section>
        <div class="wordpress-content">
          <h2>üõ°Ô∏è Protected Business Components</h2>
          <p class="text-(--content-meta) mb-6">
            These components maintain their independent styling and are never
            affected by WordPress content styling.
          </p>
        </div>

        <!-- Product Showcase -->
        <div class="mb-8">
          <h3
            class="font-display font-bold text-3xl text-(--content-heading) mb-6 pb-2 border-b border-(--border-secondary)"
          >
            Product Showcase Component
          </h3>
          <WPProductShowcase
            productSkus={[
              "6RMQNPV2IHKOLRGRHD3DCYCY",
              "D4NIZKNJKOKEEOYNCTFPKEHX",
            ]}
            layout="grid"
            columns={2}
            title="Featured Products"
            description="Demo product showcase with protected styling"
          />
        </div>

        <!-- Event Block -->
        <div class="mb-8">
          <h3
            class="font-display font-bold text-3xl text-(--content-heading) mb-6 pb-2 border-b border-(--border-secondary)"
          >
            Event Block Component
          </h3>
          <WPEventBlock
            title="Demo Skate Session"
            date="2025-02-15"
            time="2:00 PM - 6:00 PM"
            location="El Camino Skate Shop"
            description="Join us for our weekly skate session. All skill levels welcome!"
            registrationRequired={true}
            featuredProducts={["OC527UX6LJVAQNN6EPAQXRZ5"]}
          />
          {/* cSpell:ignore MANDERSON */}
        </div>

        <!-- Team Member -->
        <div class="mb-8">
          <h3
            class="font-display font-bold text-3xl text-(--content-heading) mb-6 pb-2 border-b border-(--border-secondary)"
          >
            Team Member Component
          </h3>
          <WPTeamMember
            name="Demo Skater"
            role="Pro Skater"
            bio="Professional skateboarder and El Camino team member with 15 years of experience."
            imageUrl="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face"
            socialLinks={{
              instagram: "https://instagram.com/demoskater",
              youtube: "https://youtube.com/demoskater",
              tiktok: "https://tiktok.com/@demoskater",
              website: "https://demoskater.com",
            }}
            setupDetails={{
              deck: '8.25" Krooked Deck',
              trucks: "Independent 149s",
              wheels: "Spitfire Formula Four 99d",
              bearings: "Bones Reds",
              grip: "Mob Grip",
            }}
            achievements={["Street League Champion", "X-Games Medalist"]}
            yearsSkating={15}
            hometown="San Francisco, CA"
            favoriteProducts={[
              "6RMQNPV2IHKOLRGRHD3DCYCY",
              "OC527UX6LJVAQNN6EPAQXRZ5",
            ]}
          />
          {/* cSpell:ignore MANDERSON */}
        </div>
      </section>

      <!-- Section 4: Enhanced Content Components -->
      <section class="wordpress-content">
        <h2>Enhanced Content Components</h2>
        <p class="text-(--content-meta) mb-6">
          These components receive WordPress content styling wrappers and
          demonstrate enhanced presentation.
        </p>

        <!-- Enhanced Quote -->
        <div class="mb-8">
          <h3>Enhanced Quote Component</h3>
          <div class="wordpress-content">
            <WPQuote
              quote="Skateboarding is not a crime, it's a way of life."
              cite="Tony Hawk"
              style="large"
            />
          </div>
        </div>

        <!-- Enhanced Image -->
        <div class="mb-8">
          <h3>Enhanced Image Component</h3>
          <div class="wordpress-content">
            <WPImage
              src="https://images.unsplash.com/photo-1547036967-23d11aacaee0?w=800&h=600&fit=crop"
              alt="Skateboard demonstration"
              caption="Example of enhanced image presentation with proper WordPress styling"
            />
          </div>
        </div>

        <!-- Enhanced Gallery -->
        <div class="mb-8">
          <h3>Enhanced Gallery Component</h3>
          <div class="wordpress-content">
            <WPGallery
              images={[
                {
                  src: "https://images.unsplash.com/photo-1547036967-23d11aacaee0?w=400&h=300&fit=crop",
                  alt: "Skateboard 1",
                },
                {
                  src: "https://images.unsplash.com/photo-1520175480921-4edfa2983e0f?w=400&h=300&fit=crop",
                  alt: "Skateboard 2",
                },
                {
                  src: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",
                  alt: "Skateboard 3",
                },
              ]}
              columns={3}
              linkTo="file"
            />
          </div>
        </div>

        <!-- Enhanced Embed -->
        <div class="mb-8">
          <h3>Enhanced Embed Component</h3>
          <div class="wordpress-content">
            <WPEmbed
              url="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
              embedType="youtube"
              originalHtml=""
            />
          </div>
        </div>
      </section>

      <!-- Section 5: Styling Implementation Details -->
      <section class="wordpress-content">
        <h2>Implementation Details</h2>
        <div class="bg-(--surface-secondary) p-6">
          <div class="wordpress-content">
            <h3>Selective Styling System</h3>
            <p>
              Our optimized WordPress system uses selective styling application:
            </p>

            <ul>
              <li>
                <strong>Business Components</strong>: Never receive <code
                  >.wordpress-content</code
                > styling
              </li>
              <li>
                <strong>Content Components</strong>: Wrapped with <code
                  >.wordpress-content</code
                > for enhanced typography
              </li>
              <li>
                <strong>Fallback Content</strong>: Raw HTML gets content styling
                based on content type detection
              </li>
            </ul>

            <h4>Protected Components</h4>
            <ul>
              <li>WPProductShowcase (Revenue-critical)</li>
              <li>WPEventBlock (Business functionality)</li>
              <li>WPTeamMember (Professional profiles)</li>
            </ul>

            <h4>Enhanced Components</h4>
            <ul>
              <li>WPQuote, WPImage, WPGallery (Content presentation)</li>
              <li>WPEmbed, WPColumns, WPButton (Layout elements)</li>
              <li>Raw HTML content (Typography and semantic elements)</li>
            </ul>

            <blockquote>
              <p>
                This approach ensures business-critical components maintain
                their sophisticated functionality while content presentation
                remains consistent and professional.
              </p>
            </blockquote>
          </div>
        </div>
      </section>

      <!-- Section 6: Performance & Technical Notes -->
      <section class="wordpress-content">
        <h2>Technical Implementation</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-(--surface-secondary) p-6">
            <h3>Optimizations Applied</h3>
            <ul class="text-(--content-body) space-y-2">
              <li>‚úÖ Selective WordPress content styling</li>
              <li>‚úÖ Business component protection</li>
              <li>‚úÖ Unused import cleanup</li>
              <li>‚úÖ Deprecated attribute fixes</li>
              <li>‚úÖ Script directive optimization</li>
            </ul>
          </div>

          <div class="bg-(--surface-secondary) p-6">
            <h3>Build Results</h3>
            <ul class="text-(--content-body) space-y-2">
              <li>‚úÖ 0 TypeScript errors</li>
              <li>‚úÖ Successful build completion</li>
              <li>‚úÖ All functionality preserved</li>
              <li>‚úÖ BlogProductCard protected</li>
              <li>‚úÖ Clean architecture maintained</li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer
      class="bg-(--surface-secondary) border-t border-(--border-primary) p-8 mt-16"
    >
      <div class="max-w-4xl mx-auto text-center text-(--content-meta)">
        <p>WordPress Typography & Components Demo ‚Ä¢ El Camino Admin Tools</p>
        <p class="text-sm mt-2">
          Implementation completed with zero business impact
        </p>
      </div>
    </footer>
  </main>
</Layout>

<style>
  /* Demo page specific enhancements */
  .demo-section {
    margin-bottom: 3rem;
  }

  .demo-component {
    margin-bottom: 2rem;
  }

  .demo-header {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 1.25rem;
    color: var(--content-heading);
    margin-bottom: 1rem;
  }

  /* Ensure protected components maintain their independence */
  .protected-component {
    /* No WordPress content styling applied */
    isolation: isolate;
  }

  /* Code styling for implementation details */
  code {
    background-color: var(--surface-tertiary);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace; /* cSpell:ignore Menlo */
    font-size: 0.875rem;
    color: var(--content-emphasis);
  }

  /* Demo page responsive adjustments */
  @media (max-width: 768px) {
    .demo-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  // Demo page functionality
  document.addEventListener("astro:page-load", () => {
    console.log("WordPress Typography & Components Demo loaded");

    // Add smooth scrolling for any anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const href = anchor.getAttribute("href");
        const target = href ? document.querySelector(href) : null;
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
          });
        }
      });
    });
  });
</script>
